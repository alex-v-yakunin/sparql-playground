# RDFS Reasoning: Иерархия классов решений
#
# Демонстрация автоматического вывода типов через rdfs:subClassOf
#
# Определили:
# :TechnicalDecision rdfs:subClassOf :ArchitecturalDecision
# :DatabaseDecision rdfs:subClassOf :TechnicalDecision
#
# Теперь запрос "все архитектурные решения" автоматически
# включает технические И специализированные решения!
#
# В SQL: таблицы наследования или сложные UNION'ы
# В RDF: естественная иерархия с автоматическим выводом
#
# Ожидаемый результат: 6 ADR со всеми их типами (включая выведенные)
# Примеры:
#   ADR-001 (Kubernetes) → :ADR, :ArchitecturalDecision, :TechnicalDecision, :InfrastructureDecision
#   ADR-004 (PostgreSQL) → :ADR, :ArchitecturalDecision, :TechnicalDecision, :DatabaseDecision, :SecurityDecision
# Время: < 1 секунда

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?adrLabel ?type ?typeLabel WHERE {
    ?adr a :ArchitecturalDecision ;
         rdfs:label ?adrLabel ;
         a ?type .
    
    OPTIONAL { ?type rdfs:label ?typeLabel }
}
ORDER BY ?adrLabel ?type
