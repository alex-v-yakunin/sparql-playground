# Alternative Dependency Paths
#
# Find relationships between technologies through different dependency types.
#
# Expected result: 5 relationships with type
# Execution time: < 1 second

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?from ?to ?relationType
WHERE {
    {
        ?fromTech :dependsOn ?toTech .           # Direct dependency
        BIND("direct dependency" AS ?relationType)  # Assign relationship type
    }
    UNION                                        # OR
    {
        ?fromTech :requiresInfrastructure ?toTech .  # Infrastructure requirement
        BIND("infrastructure" AS ?relationType)      # Assign relationship type
    }
    
    ?fromTech rdfs:label ?from .                 # Source technology label
    ?toTech rdfs:label ?to .                     # Target technology label
}
ORDER BY ?from ?to                               # Sort by both technologies

# Explanation:
# Demonstrates flexibility of graph queries for navigating different relationship types.
# UNION combines results of two patterns (direct dependencies and infrastructure requirements).
# BIND creates new variable with relationship type description for each case.
# Property path equivalent: ?fromTech (:dependsOn|:requiresInfrastructure) ?toTech
# In SQL: two queries with UNION ALL.
# In Property Graph: multiple edge types between nodes.
