# Транзитивные зависимости Kubernetes
#
# Найти все прямые и косвенные зависимости конкретной технологии.
#
# Ожидаемый результат: 5 зависимостей Kubernetes
# Время выполнения: < 1 секунды

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?dependency
WHERE {
    :Kubernetes :dependsOn+ ?tech ;    # Транзитивное замыкание от :Kubernetes
                rdfs:label ?label .    # (игнорируется, для полноты)
    
    ?tech rdfs:label ?dependency .     # Получить название зависимости
}
ORDER BY ?dependency                   # Сортировать по названию

# Пояснение:
# Property Path :dependsOn+ означает "один или более шагов по :dependsOn".
# Находит все технологии, от которых Kubernetes зависит напрямую или косвенно.
# В SQL потребовался бы рекурсивный CTE (WITH RECURSIVE).
# В Property Graph: обход в глубину/ширину.
# SPARQL делает это естественно и лаконично - мощь графовых баз данных!
