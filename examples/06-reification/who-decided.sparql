# Кто принял решение о технологии
#
# Определить, кто и когда принял решение об использовании технологии.
#
# Ожидаемый результат: 7 решений с указанием автора, даты и уверенности
# Время выполнения: < 1 секунды

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

SELECT ?adrLabel ?technology ?decisionMaker ?decisionDate ?confidence
WHERE {
    ?statement a rdf:Statement ;       # Найти реифицированное утверждение
               rdf:subject ?adr ;      # Субъект: о каком ADR утверждение
               rdf:predicate :decidesTechnology ; # Предикат: выбор технологии
               rdf:object ?tech ;      # Объект: какая технология
               :statedBy ?person ;     # Кто принял решение
               :statedOn ?decisionDate ; # Когда принял решение
               :confidence ?confidence . # С какой уверенностью
    
    ?adr rdfs:label ?adrLabel .        # Название ADR
    ?tech rdfs:label ?technology .     # Название технологии
    ?person rdfs:label ?decisionMaker . # Имя человека
}
ORDER BY ?decisionDate                 # Сортировать по дате (хронологический порядок)

# Пояснение:
# Это суть reification: метаданные об утверждениях.
# Структура rdf:Statement описывает исходный триплет (?adr :decidesTechnology ?tech).
# Дополнительные свойства (:statedBy, :statedOn, :confidence) добавляют контекст.
# Невозможно в обычных триплетах RDF без reification!
# В SQL: отдельная таблица metadata с foreign key.
# В Property Graph: свойства на рёбрах.
# В RDF: встроенная поддержка через reification.
