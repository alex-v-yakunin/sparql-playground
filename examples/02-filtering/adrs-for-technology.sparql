# ADRs for Specific Technology
#
# Find all architectural decisions related to PostgreSQL.
#
# Expected result: 4 ADRs (ADR-002, ADR-004, ADR-005, ADR-008)
# Execution time: < 1 second

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?adr ?label ?status ?confidence
WHERE {
    ?adr a :ADR ;                      # Find all ADRs
         rdfs:label ?label ;           # Get label
         :decidesTechnology :PostgreSQL ;  # Filter: only PostgreSQL
         :hasStatus ?status ;          # Get status
         :hasConfidence ?confidence .  # Get confidence level
}
ORDER BY DESC(?confidence)             # Sort by confidence (higher = better)

# Explanation:
# Can replace :PostgreSQL with :Kafka or other technologies.
# In SQL: WHERE technology_id = 'PostgreSQL'
# In SPARQL: direct specification of technology URI in pattern.
