# Technology Migration Paths
#
# Find ADRs that supersede other ADRs, showing technology changes.
#
# Expected result: 1 migration (MongoDB â†’ PostgreSQL for Payment History)
# Execution time: < 1 second

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?oldADR ?oldLabel ?oldTech 
       ?newADR ?newLabel ?newTech
WHERE {
    ?newADR :supersedes ?oldADR .      # New decision supersedes old
    
    ?oldADR rdfs:label ?oldLabel ;     # Get old ADR label
            :decidesTechnology ?oldTechnology .  # Get old technology
    
    ?newADR rdfs:label ?newLabel ;     # Get new ADR label
            :decidesTechnology ?newTechnology .  # Get new technology
    
    ?oldTechnology rdfs:label ?oldTech .  # Old technology label
    ?newTechnology rdfs:label ?newTech .  # New technology label
}

# Explanation:
# Useful for understanding architecture evolution.
# Property :supersedes links new decision to old one.
# In SQL would require complex self-JOIN with two subqueries.
# In SPARQL: natural following of relationships.
# In Property Graph: similarly - following :supersedes edges.
