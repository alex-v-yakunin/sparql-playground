# Who Decided on Technology (RDF-star)
#
# Same query as reification example, using RDF-star quoted triples.
#
# Expected result: 4 decisions with author, date and confidence
# Execution time: < 1 second

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?adrLabel ?technology ?decisionMaker ?decisionDate ?confidence
WHERE {
    GRAPH :decision-metadata-rdfstar {  # Named graph with RDF-star data
        << ?adr :decidesTechnology ?tech >> # Quoted triple (the decision)
            :statedBy ?person ;          # Who made the decision
            :statedOn ?decisionDate ;    # When the decision was made
            :confidence ?confidence .    # Confidence level (0.0-1.0)
    }

    ?adr rdfs:label ?adrLabel .          # ADR label
    ?tech rdfs:label ?technology .       # Technology label
    ?person rdfs:label ?decisionMaker .  # Person's name
}
ORDER BY ?decisionDate                   # Sort by date (chronological order)

# Explanation:
# RDF-star (W3C Community Group extension) enables statement-level metadata
# using quoted triple syntax << subject predicate object >>.
# << ?adr :decidesTechnology ?tech >> denotes a quoted triple as a first-class entity.
# Metadata properties attach directly to the quoted triple without rdf:Statement overhead.
# Compared to standard reification: reduced triple count, simplified query patterns.
# SQL requires auxiliary metadata tables with foreign key relationships.
# RDF-star provides syntactically concise statement-level annotation.
