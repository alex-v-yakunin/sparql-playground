# Who Decided on Technology (RDF-star)
#
# Same query as reification example, using RDF-star quoted triples.
#
# Expected result: 4 decisions with author, date and confidence
# Execution time: < 1 second

PREFIX : <http://example.org/adr#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?adrLabel ?technology ?decisionMaker ?decisionDate ?confidence
WHERE {
    GRAPH :decision-metadata-rdfstar {  # Named graph with RDF-star data
        << ?adr :decidesTechnology ?tech >> # Quoted triple (the decision)
            :statedBy ?person ;          # Who made the decision
            :statedOn ?decisionDate ;    # When the decision was made
            :confidence ?confidence .    # Confidence level (0.0-1.0)
    }

    ?adr rdfs:label ?adrLabel .          # ADR label
    ?tech rdfs:label ?technology .       # Technology label
    ?person rdfs:label ?decisionMaker .  # Person's name
}
ORDER BY ?decisionDate                   # Sort by date (chronological order)

# Explanation:
# RDF-star allows metadata directly on triples using << >> notation.
# << ?adr :decidesTechnology ?tech >> is a quoted triple - the statement itself.
# Metadata properties attach directly to the quoted triple, not to rdf:Statement.
# Compare with reification: fewer triples, simpler queries.
# In SQL: separate metadata table with foreign keys.
# In RDF-star: native support for statement-level metadata.
